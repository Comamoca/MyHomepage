/*! UIkit 3.13.7 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */(function(r,g){typeof exports=="object"&&typeof module<"u"?module.exports=g(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitslideshow_parallax",["uikit-util"],g):(r=typeof globalThis<"u"?globalThis:r||self,r.UIkitSlideshow_parallax=g(r.UIkit.util))})(this,function(r){"use strict";var g={props:{media:Boolean},data:{media:!1},connected(){const e=R(this.media);this.mediaObj=window.matchMedia(e);const t=()=>{this.matchMedia=this.mediaObj.matches,r.trigger(this.$el,r.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=r.on(this.mediaObj,"change",()=>{t(),this.$emit("resize")}),t()},disconnected(){var e;(e=this.offMediaObj)==null||e.call(this)}};function R(e){if(r.isString(e)){if(r.startsWith(e,"@")){const t="breakpoint-"+e.substr(1);e=r.toFloat(r.getCssVar(t))}else if(isNaN(e))return e}return e&&r.isNumeric(e)?"(min-width: "+e+"px)":""}r.memoize(async e=>e?r.startsWith(e,"data:")?decodeURIComponent(e.split(",")[1]):(await fetch(e)).text():Promise.reject());function V(e){return Math.ceil(Math.max(0,...r.$$("[stroke]",e).map(t=>{try{return t.getTotalLength()}catch{return 0}})))}const y={x:F,y:F,rotate:F,scale:F,color:$,backgroundColor:$,borderColor:$,blur:m,hue:m,fopacity:m,grayscale:m,invert:m,saturate:m,sepia:m,opacity:L,stroke:A,bgx:O,bgy:O},{keys:v}=Object;var q={mixins:[g],props:T(v(y),"list"),data:T(v(y),void 0),computed:{props(e,t){return v(y).reduce((n,o)=>(r.isUndefined(e[o])||(n[o]=y[o](o,t,e[o].slice())),n),{})}},events:{load(){this.$emit()}},methods:{reset(){r.each(this.getCss(0),(e,t)=>r.css(this.$el,t,""))},getCss(e){const t={transform:"",filter:""};for(const n in this.props)this.props[n](t,e);return t}}};function F(e,t,n){const o=M(n)||{x:"px",y:"px",rotate:"deg"}[e]||"";let s;return(e==="x"||e==="y")&&(e="translate"+r.ucfirst(e),s=a=>r.toFloat(r.toFloat(a).toFixed(o==="px"?0:6))),n.length===1&&n.unshift(e==="scale"?1:0),n=l(n,s),(a,c)=>{a.transform+=" "+e+"("+x(n,c)+o+")"}}function $(e,t,n){return n.length===1&&n.unshift(b(t,e,"")),n=l(n,o=>H(t,o)),(o,s)=>{const[a,c,i]=S(n,s),h=a.map((d,f)=>(d+=i*(c[f]-d),f===3?r.toFloat(d):parseInt(d,10))).join(",");o[e]="rgba("+h+")"}}function H(e,t){return b(e,"color",t).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(r.toFloat)}function m(e,t,n){n.length===1&&n.unshift(0);const o=M(n)||{blur:"px",hue:"deg"}[e]||"%";return e={fopacity:"opacity",hue:"hue-rotate"}[e]||e,n=l(n),(s,a)=>{const c=x(n,a);s.filter+=" "+e+"("+(c+o)+")"}}function L(e,t,n){return n.length===1&&n.unshift(b(t,e,"")),n=l(n),(o,s)=>{o[e]=x(n,s)}}function A(e,t,n){n.length===1&&n.unshift(0);const o=M(n),s=V(t);return n=l(n.reverse(),a=>(a=r.toFloat(a),o==="%"?a*s/100:a)),n.some(a=>{let[c]=a;return c})?(r.css(t,"strokeDasharray",s),(a,c)=>{a.strokeDashoffset=x(n,c)}):r.noop}function O(e,t,n){n.length===1&&n.unshift(0),e=e.substr(-1);const o=e==="y"?"height":"width";n=l(n,a=>r.toPx(a,o,t));const s=b(t,"background-position-"+e,"");return b(t,"backgroundSize","")==="cover"?G(e,t,n,s,o):D(e,n,s)}function G(e,t,n,o,s){const a=J(t);if(!a.width)return r.noop;const c=n.map(u=>{let[P]=u;return P}),i=Math.min(...c),h=Math.max(...c),d=c.indexOf(i)<c.indexOf(h),f=h-i;let _=(d?-f:0)-(d?i:h);const w={width:t.offsetWidth,height:t.offsetHeight},B=r.Dimensions.cover(a,w),I=B[s]-w[s];if(I<f)w[s]=B[s]+f-I;else if(I>f){const u=w[s]/r.toPx(o,s,t,!0);u&&(_-=(I-f)/u)}const E=r.Dimensions.cover(a,w),Q=D(e,n,_+"px");return(u,P)=>{Q(u,P),u.backgroundSize=E.width+"px "+E.height+"px",u.backgroundRepeat="no-repeat"}}function D(e,t,n){return function(o,s){o["background-position-"+e]="calc("+n+" + "+x(t,s)+"px)"}}const C={};function J(e){const t=r.css(e,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(C[t])return C[t];const n=new Image;return t&&(n.src=t,!n.naturalWidth)?(n.onload=()=>{C[t]=j(n),r.trigger(e,r.createEvent("load",!1))},j(n)):C[t]=j(n)}function j(e){return{width:e.naturalWidth,height:e.naturalHeight}}function l(e,t){t===void 0&&(t=r.toFloat);const n=[],{length:o}=e;let s=0;for(let a=0;a<o;a++){let[c,i]=r.isString(e[a])?e[a].trim().split(" "):[e[a]];if(c=t(c),i=i?r.toFloat(i)/100:null,a===0?i===null?i=0:i&&n.push([c,0]):a===o-1&&(i===null?i=1:i!==1&&(n.push([c,i]),i=1)),n.push([c,i]),i===null)s++;else if(s){const h=n[a-s-1][1],d=(i-h)/(s+1);for(let f=s;f>0;f--)n[a-f][1]=h+d*(s-f+1);s=0}}return n}function S(e,t){const n=r.findIndex(e.slice(1),o=>{let[,s]=o;return t<=s})+1;return[e[n-1][0],e[n][0],(t-e[n-1][1])/(e[n][1]-e[n-1][1])]}function x(e,t){const[n,o,s]=S(e,t);return r.isNumber(n)?n+Math.abs(n-o)*s*(n<o?1:-1):+o}const K=/^-?\d+([^\s]*)/;function M(e,t){for(const n of e){const o=n.match==null?void 0:n.match(K);if(o)return o[1]}return t}function b(e,t,n){const o=e.style[t],s=r.css(r.css(e,t,n),t);return e.style[t]=o,s}function T(e,t){return e.reduce((n,o)=>(n[o]=t,n),{})}var W={mixins:[q],data:{selItem:"!li"},beforeConnect(){this.item=r.query(this.selItem,this.$el)},disconnected(){this.item=null},events:[{name:"itemin itemout",self:!0,el(){return this.item},handler(e){let{type:t,detail:{percent:n,duration:o,timing:s,dir:a}}=e;r.fastdom.read(()=>{const c=this.getCss(N(t,a,n)),i=this.getCss(z(t)?.5:a>0?1:0);r.fastdom.write(()=>{r.css(this.$el,c),r.Transition.start(this.$el,i,o,s).catch(r.noop)})})}},{name:"transitioncanceled transitionend",self:!0,el(){return this.item},handler(){r.Transition.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el(){return this.item},handler(e){let{type:t,detail:{percent:n,dir:o}}=e;r.fastdom.read(()=>{const s=this.getCss(N(t,o,n));r.fastdom.write(()=>r.css(this.$el,s))})}}]};function z(e){return r.endsWith(e,"in")}function N(e,t,n){return n/=2,z(e)^t<0?n:1-n}return typeof window<"u"&&window.UIkit&&window.UIkit.component("slideshowParallax",W),W});
